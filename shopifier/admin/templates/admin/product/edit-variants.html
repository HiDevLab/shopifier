<div *ngIf="object_id" class="rows pt20 center">
    <div class="row w16 left pl30">
        <div class="rows ml30" [ngClass]="{w16: options.length==1,w20: options.length==2,w24: options.length==3}">
            <div class="form p20">
                <div class="row mh20">
                    <strong class="col mr-auto font16">Variants</strong>
                    <a class="col ref mr20" (click)="showReorderVariants=true">Reorder variants</a>
                    <a class="col ref mr20" (click)="showEditOptions=true">Edit options</a>
                    <a class="col ref" >Add variant</a>
                </div>
                <ul *ngIf="options" class="row wrap mv20">
                    <li class="mr15"> Select: </li>
                    <li class="ref color-subdued mr15" (click)="selectVariants(1)">All</li>
                    <li class="ref color-subdued mr15" (click)="selectVariants(0)">None</li>
                    <span class="row wrap" *ngFor="let option of options;let i = index;" >
                        <li *ngFor="let val of option.values" 
                            class="ref mr15" [ngClass]="{colorgreen: i==0, colorpurple: i==1, colororange: i==2}"
                            (click)="filterVariants(i, val)">
                            {% templatetag openvariable %}val{% templatetag closevariable %}
                        </li>
                    </span>
                </ul>
                <div *ngIf="countSelectedVariants()[0]" class="select-bulk">
                    <div>
                        <div class="input">
                            <input type="checkbox" id="select-bulk-variants" [(ngModel)]="selectAllVariants" (click)="selectVariants(0)">
                            <label for="select-bulk-variants">
                                <i *ngIf="!selectAllVariants" class="fa fa-minus"></i>
                                <i *ngIf="selectAllVariants" class="fa fa-check"></i>
                            </label>
                            {% templatetag openvariable %}countSelectedVariants()[1]{% templatetag closevariable %}
                        </div>
                        <div>
                            <a>Edit variants</a>
                        </div>
                        <div id="base-bulk-actions" (click)="refreshDOM(); onPopover($event, popover_bulk_actions)">
                            <a>Bulk actions</a>
                            <span class="fa fa-caret-down ml3"></span>
                        </div>
                        <popover id="bulk-actions" class="down color-default hide mt18">
                            <div class="default-popover">
                               <ul>
                                    <li>Change prices</li>
                                    <li [ngClass]="{disabled:!updateInventory}">Update inventory</li>
                                    <li>Update images</li>
                                    <li>Delete Variants</li>
                                    <li>Continue sellingwhen sold out</li>
                                    <li>Stop selling when sold out</li>
                                    <li class="disabled">DUPLICATE VARIANS</li>
                                </ul>
                                <div class="row sep mh5"></div>
                                <ul>
                                    <li>... in another Size</li>
                                </ul>
                            </div>
                        </popover>
                    </div>
                </div>
                <div class="rows edit-variant-table">
                    <table class="row min-w24 w-auto">
                        <thead *ngIf="!countSelectedVariants()[0]">
                            <tr>
                                <th class="select">
                                     <div class="input">
                                        <input type="checkbox" id="select-all-variants" [(ngModel)]="selectAllVariants" (click)="selectVariants(1)">
                                        <label for="select-all-variants">
                                            <i class="fa fa-check" aria-hidden="true"></i>
                                        </label>
                                        <span class="fa fa-caret-down" aria-hidden="true"></span>
                                    </div>
                                </th>
                                <th class="image"></th>
                                <th *ngFor="let option of options; let i = index;">
                                    {% templatetag openvariable %}option.name{% templatetag closevariable %}
                                </th>
                                <th>Price</th><th>SKU</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let variant of variants; let k = index" [ngClass]="{selected: variant.select}">
                                <td class="select">
                                    <span class="input">
                                        <input type="checkbox" [attr.id]="'var-'+k" [(ngModel)]="variant.select">
                                        <label [attr.for]="'var-'+k"><i class="fa fa-check backgraund-form" aria-hidden="true"></i></label>
                                    </span>
                                </td>
                                <td class="image">
                                    <div>
                                        <a class="fa fa-picture-o"></a>
                                    </div>
                                </td>
                                <td *ngIf="variant.option1" class="option">
                                    <input class="color-green" [(ngModel)]="variant.option1">
                                </td>
                                <td *ngIf="variant.option2" class="option">
                                    <input class="color-purple" [(ngModel)]="variant.option2">
                                 </td>
                                <td *ngIf="variant.option3"  class="option">
                                    <input class="color-orange" [(ngModel)]="variant.option3">
                                </td>
                                <td><input [(ngModel)]="variant.price"></td>
                                <td><input [(ngModel)]="variant.sku"></td>
                                <td><a class="btn">Edit</a><a class="btn fa fa-trash"></a></td>
                            </tr>
                         </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>